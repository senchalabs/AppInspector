<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/*

Siesta 2.0.5
Copyright(c) 2009-2013 Bryntum AB
http://bryntum.com/contact
http://bryntum.com/products/siesta/license

*/
<span id='Siesta-Recorder-TargetEditor'>/**
</span> * Target editor.
 */
Ext.define('Siesta.Recorder.TargetEditor', {
    extend : 'Ext.form.ComboBox',
    alias  : 'widget.targeteditor',

<span id='Siesta-Recorder-TargetEditor-property-enableKeyEvents'>    enableKeyEvents : true,
</span><span id='Siesta-Recorder-TargetEditor-property-queryMode'>    queryMode       : 'local',
</span><span id='Siesta-Recorder-TargetEditor-property-valueField'>    valueField      : 'value',
</span><span id='Siesta-Recorder-TargetEditor-property-displayField'>    displayField    : 'value',
</span><span id='Siesta-Recorder-TargetEditor-property-cls'>    cls             : 'siesta-targeteditor',
</span>
<span id='Siesta-Recorder-TargetEditor-method-initComponent'>    initComponent : function () {
</span>        Ext.apply(this, {
            store : new Ext.data.Store({
                proxy  : 'memory',
                fields : ['type', 'value']
            })
        });

        this.callParent();
    },

<span id='Siesta-Recorder-TargetEditor-method-getValue'>    getValue : function() {
</span>        var prot = Siesta.Recorder.RecordedEvent.prototype;
        var val = this.callParent(arguments);

        return (val &amp;&amp; typeof val === 'string' &amp;&amp; prot.parseOffset(val)) || val;
    },

<span id='Siesta-Recorder-TargetEditor-method-setValue'>    setValue : function(value) {
</span>        // This method is called with an array of a single record
        if (value instanceof Array &amp;&amp; value.length &gt; 1) value = value.toString();

        this.callParent([value]);
    },

<span id='Siesta-Recorder-TargetEditor-method-populate'>    populate : function (eventRecord) {
</span>        var data = eventRecord.data;
        var storeData = [];

        ['domId', 'csq', 'cq', 'css', 'xy'].forEach(function (type) {
            if (data[type]) {
                storeData.push({ type : type, value : type === 'cq' ? '&gt;&gt;' + data[type] : data[type] });
            }
        });

        this.store.loadData(storeData);
    }

});
</pre>
</body>
</html>
